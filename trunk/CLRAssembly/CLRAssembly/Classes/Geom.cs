using System;

namespace CLRAssembly
{
    public sealed class Geom
    {        
        public static string CleanIntersections(string shape)
        {
            try
            {
                if (shape == "") {
                    shape = "MULTIPOLYGON (((-98.565975 29.676997, -98.56592599999999 29.679824999999997, -98.57212 29.679689, -98.572949 29.679658, -98.57277599999999 29.680771, -98.574446 29.680740999999998, -98.574399 29.680846, -98.574284999999989 29.681065999999998, -98.574067 29.681455, -98.573911999999993 29.681769, -98.573627 29.682437, -98.5736 29.682585, -98.573605 29.682688, -98.573645 29.68284, -98.57365 29.682957, -98.573634 29.683086999999997, -98.573629 29.683213, -98.573618 29.683311999999997, -98.573513999999989 29.683518, -98.573323 29.683871, -98.573281 29.683992, -98.573245 29.684117999999998, -98.573234 29.684257, -98.573228 29.684400999999998, -98.573258 29.684683, -98.573368 29.685245, -98.573624999999993 29.686474999999998, -98.573847 29.687538999999997, -98.573855999999992 29.687745, -98.573844999999992 29.688001, -98.573844 29.688118, -98.573813 29.688266, -98.573771 29.688413999999998, -98.573709 29.688588, -98.57322099999999 29.689718, -98.573143 29.689909999999998, -98.573112 29.690022, -98.573095999999993 29.690143, -98.573111 29.690268999999997, -98.573197 29.690555999999997, -98.573319 29.690866, -98.573405 29.691247999999998, -98.573449 29.691805, -98.573478999999992 29.691944, -98.573494 29.692065, -98.57355 29.692190999999998, -98.573651 29.692514, -98.573731999999993 29.692967999999997, -98.573746 29.693102, -98.573736 29.693205, -98.573714999999993 29.693317999999998, -98.573683 29.693438999999998, -98.573533 29.693824, -98.573455 29.693953999999998, -98.573371999999992 29.694191, -98.57333 29.694347999999998, -98.57332199999999 29.694477, -98.573319 29.694532, -98.573302 29.695017, -98.573324 29.695815, -98.573343999999992 29.696, -98.573404 29.696282, -98.573653999999991 29.696870999999998, -98.573714999999993 29.697006, -98.57376 29.697127, -98.573796 29.697266, -98.573845999999989 29.697575999999998, -98.573845999999989 29.697661, -98.573814 29.697813999999997, -98.573731 29.697993, -98.57358099999999 29.698359999999997, -98.573242999999991 29.699157999999997, -98.57314 29.699368, -98.573056999999991 29.699516, -98.572819 29.699852, -98.572679999999991 29.700066999999997, -98.572592 29.700215, -98.572549999999993 29.700308999999997, -98.572519 29.70039, -98.572508 29.700457, -98.572503 29.700529, -98.572513 29.700626999999997, -98.572558 29.700779999999998, -98.572618999999989 29.700933, -98.572741999999991 29.701144, -98.572941 29.701396, -98.573140999999993 29.701615999999998, -98.573304 29.701787, -98.573529999999991 29.701981, -98.573668 29.702075999999998, -98.57380599999999 29.702178999999997, -98.573883 29.702247, -98.573934 29.702313999999998, -98.573965 29.7024, -98.573963999999989 29.702475999999997, -98.573962 29.702496999999997, -98.573954 29.702569999999998, -98.573827999999992 29.703045, -98.57368799999999 29.703453, -98.57360899999999 29.703771999999997, -98.57351 29.704197999999998, -98.57344599999999 29.704583, -98.57335599999999 29.705143999999997, -98.573346 29.705326, -98.573346 29.705485, -98.573376 29.705772, -98.573425 29.706173, -98.57346 29.706515, -98.573551999999992 29.707278, -98.573596999999992 29.707528999999997, -98.573721999999989 29.708136999999997, -98.573765999999992 29.708304, -98.573816 29.708447999999997, -98.57403699999999 29.708985, -98.57414399999999 29.709303, -98.574176 29.709457999999998, -98.574193999999991 29.709542, -98.574229 29.709768, -98.574246 29.709934999999998, -98.574255 29.710126, -98.574254 29.710261, -98.574239999999989 29.710396, -98.574211999999989 29.710494999999998, -98.574165999999991 29.710618, -98.573987 29.710994999999997, -98.573816999999991 29.71138, -98.573771 29.711523, -98.573748 29.711661999999997, -98.573701 29.711876999999998, -98.573669 29.712090999999997, -98.573645 29.712329999999998, -98.573635 29.712501, -98.573664999999991 29.712854, -98.573686999999993 29.713025, -98.573726999999991 29.713268, -98.573771999999991 29.713466999999998, -98.573835 29.713638, -98.573916 29.713828999999997, -98.574024 29.714063999999997, -98.574142 29.714302, -98.574259 29.714525, -98.574444 29.714844, -98.574675 29.715305999999998, -98.574747 29.715493, -98.574818999999991 29.715722999999997, -98.57485 29.71587, -98.574865 29.716036, -98.57493 29.716839999999998, -98.574967 29.717140999999998, -98.574998999999991 29.717340999999998, -98.575041 29.717651999999998, -98.57508399999999 29.71791, -98.575217999999992 29.718598999999998, -98.575282 29.718819, -98.575319999999991 29.718923999999998, -98.575471 29.719583, -98.575503 29.719689, -98.575573999999989 29.719827, -98.57565 29.719946999999998, -98.57573099999999 29.720052, -98.575829 29.720167, -98.576287 29.720627999999998, -98.576527 29.720858, -98.576848 29.721155, -98.577214 29.721480999999997, -98.577792 29.72197, -98.577998999999991 29.722127999999998, -98.578091 29.722229, -98.578227 29.722396, -98.578516 29.722737, -98.578668999999991 29.722898999999998, -98.578756 29.723004999999997, -98.57880999999999 29.72311, -98.578859 29.723219999999998, -98.578875 29.723311, -98.578875 29.723373, -98.578819 29.723488, -98.578758999999991 29.723573, -98.578676 29.723678, -98.578627 29.723758999999998, -98.578621 29.723826, -98.578632 29.723926, -98.578679999999991 29.724185, -98.57875 29.724462, -98.578938999999991 29.725036, -98.578982 29.725146, -98.579009 29.725240999999997, -98.579036 29.725423, -98.579059 29.725664, -98.579062 29.725686, -98.579155 29.725911999999997, -98.579202 29.726076, -98.579239 29.726273, -98.579302 29.726459, -98.57935599999999 29.726595, -98.579416 29.726701, -98.579678 29.727041, -98.579725 29.727145, -98.579775 29.727242, -98.579805 29.727321999999997, -98.579825 29.727393, -98.579832 29.727473, -98.579833999999991 29.727714, -98.579847 29.727826, -98.579864 29.727921, -98.579900000000009 29.728026999999997, -98.57994699999999 29.728133999999997, -98.580557 29.72938, -98.580650999999989 29.729599, -98.580920999999989 29.730292, -98.581212 29.730995, -98.581352999999993 29.731313999999998, -98.581556999999989 29.731872, -98.58162 29.732014, -98.581753999999989 29.732245, -98.58206 29.732637999999998, -98.58247 29.733196, -98.582879999999989 29.733773, -98.583034 29.73398, -98.583396999999991 29.734429, -98.583596 29.734665999999997, -98.583676 29.734745999999998, -98.583844 29.734944, -98.583952 29.735121, -98.584381 29.735909999999997, -98.584592 29.736285, -98.58480999999999 29.736749, -98.58488 29.736922999999997, -98.584997 29.737309999999997, -98.585033 29.737454, -98.585325 29.738515, -98.585350999999989 29.738509999999998, -98.585432 29.738494, -98.585682999999989 29.738476, -98.585808 29.738476, -98.586075999999991 29.738487, -98.586198 29.738491999999997, -98.586325 29.738484, -98.586424999999991 29.73847, -98.58655 29.738431, -98.586675 29.738366, -98.58685 29.738263999999997, -98.587018 29.738159999999997, -98.587165 29.738052, -98.587318 29.737918999999998, -98.587505999999991 29.737728999999998, -98.587751 29.737472999999998, -98.588029999999989 29.737164, -98.588105 29.737066, -98.588151 29.736978999999998, -98.588208999999992 29.736855, -98.588286 29.736607, -98.58837299999999 29.73639, -98.588436 29.736279, -98.58852 29.736162, -98.58877 29.735892999999997, -98.589525 29.735196, -98.590181 29.734582999999997, -98.59088 29.733918, -98.591259 29.733549999999997, -98.59164 29.733181, -98.593115 29.731811999999998, -98.593223 29.731726, -98.593381999999991 29.731616, -98.59355 29.731512, -98.593723 29.731413999999997, -98.594158999999991 29.73123, -98.594304999999991 29.731184, -98.594487 29.731139, -98.594691 29.731104, -98.594871 29.731078999999998, -98.595271 29.73106, -98.595729999999989 29.731067, -98.596066 29.731057999999997, -98.59701299999999 29.73106, -98.597044 29.730943, -98.597063999999989 29.730807, -98.597079 29.730653, -98.597082 29.729796, -98.596990999999989 29.729429999999997, -98.596874 29.728695, -98.596634 29.727611999999997, -98.596330999999992 29.726452, -98.596193 29.725925999999998, -98.596161999999993 29.725776999999997, -98.596094999999991 29.72533, -98.595961 29.724117, -98.59594899999999 29.723916, -98.59589 29.723193, -98.595896 29.722998999999998, -98.595906 29.722842, -98.596143 29.721484, -98.596275999999989 29.720671, -98.596288 29.720525, -98.596289 29.720404, -98.596282 29.720319999999997, -98.596257999999992 29.720046999999997, -98.596171 29.719555999999997, -98.596114 29.719103999999998, -98.59607 29.718949, -98.595879 29.718567999999998, -98.595666999999992 29.718083, -98.595602 29.717876, -98.59558 29.717675999999997, -98.595581 29.71745, -98.595613 29.716818, -98.595646 29.715985, -98.595677999999992 29.715391999999998, -98.595732 29.714720999999997, -98.595764 29.714101, -98.59577 29.712636, -98.595756 29.712417, -98.595676 29.712100999999997, -98.595559 29.711738999999998, -98.595457 29.711506, -98.595345999999992 29.711305999999997, -98.594979 29.710787999999997, -98.59476699999999 29.710528999999998, -98.594517 29.710203, -98.594051 29.709667999999997, -98.593612 29.70919, -98.593195999999992 29.708757, -98.592998 29.708544, -98.592806 29.708375999999998, -98.592142 29.707877999999997, -98.591325 29.707241, -98.591101 29.707071, -98.590156 29.706353, -98.589445 29.705862999999997, -98.589365 29.705807999999998, -98.58876 29.705377, -98.5883 29.705053999999997, -98.58787199999999 29.704784, -98.58743299999999 29.704499, -98.586856 29.704141, -98.586444 29.703913999999997, -98.586164 29.703782999999998, -98.585944 29.703687, -98.585675 29.70359, -98.585224 29.703395999999998, -98.584663999999989 29.70312, -98.584279999999993 29.702907, -98.583971999999989 29.702714, -98.583829 29.702617999999998, -98.583774999999989 29.702575, -98.583649 29.70245, -98.58354 29.702306, -98.583396 29.701988, -98.583354 29.701839, -98.583361 29.70167, -98.583379 29.701521, -98.583472 29.70123, -98.583631 29.700768999999998, -98.583748 29.700457, -98.58386999999999 29.700218, -98.58401099999999 29.699963999999998, -98.584176 29.699647, -98.584341999999992 29.699302999999997, -98.58447 29.698985, -98.584581 29.698683, -98.584758999999991 29.698175, -98.584992 29.697661, -98.585292 29.697042, -98.585481 29.696665999999997, -98.585530999999989 29.696490999999998, -98.58558 29.696278999999997, -98.585592999999989 29.696099, -98.58556999999999 29.695807, -98.585535 29.695525999999997, -98.585472 29.694903999999998, -98.585448 29.694402, -98.585461999999993 29.693925, -98.585512 29.693617, -98.585574 29.693289, -98.585697 29.692828, -98.585808 29.692383, -98.58595 29.691954, -98.586075 29.691547999999997, -98.58632999999999 29.690845, -98.586463 29.690516, -98.58658 29.690178999999997, -98.586659 29.689809, -98.58668999999999 29.689600000000002, -98.586771 29.688819, -98.586802999999989 29.688381, -98.586884 29.687526, -98.586892999999989 29.687255999999998, -98.586856 29.686730999999998, -98.586804 29.686177999999998, -98.586805 29.685948999999997, -98.586822 29.685626, -98.586942 29.684568, -98.58696599999999 29.684272, -98.586967 29.684029, -98.586908 29.683415999999998, -98.586840999999993 29.682985, -98.586833 29.68285, -98.586896 29.682554, -98.586958 29.682419, -98.587215 29.682029, -98.587392999999992 29.681821, -98.587516999999991 29.681631999999997, -98.58760199999999 29.681478, -98.587665 29.681316, -98.587766 29.681027, -98.58785499999999 29.680787, -98.587891 29.68069, -98.587984999999989 29.680380999999997, -98.588094 29.680118, -98.588162 29.679980999999998, -98.58637499999999 29.679871, -98.586035999999993 29.679855999999997, -98.58555 29.679855, -98.585264 29.679847, -98.585025 29.679859999999998, -98.584724 29.679906, -98.584115 29.680024999999997, -98.583380999999989 29.680197999999997, -98.583165 29.680231, -98.583002999999991 29.680284999999998, -98.582763 29.680358, -98.582624 29.680432, -98.58223799999999 29.680605999999997, -98.581963 29.680764, -98.581915 29.680791, -98.579966 29.680808, -98.579978 29.680612, -98.579994 29.680436999999998, -98.579972 29.680289, -98.579911 29.680139999999998, -98.579765 29.679924, -98.579664999999991 29.679828999999998, -98.579565 29.679741999999997, -98.579404 29.679626, -98.578757 29.679274, -98.577765 29.678718999999997, -98.577210999999991 29.678386999999997, -98.577152 29.678357, -98.576903 29.678224, -98.576511 29.678, -98.576124 29.677771999999997, -98.57561 29.677464999999998, -98.57532599999999 29.677283, -98.575018 29.677106, -98.574787 29.676983999999997, -98.574533 29.676841999999997, -98.574303 29.676693, -98.573779 29.676422, -98.573287 29.676191, -98.57291699999999 29.675981, -98.572770999999989 29.675907, -98.572609 29.675866, -98.57244 29.675852, -98.57208 29.675850999999998, -98.571884 29.675849999999997, -98.571559999999991 29.675856, -98.571328999999992 29.675835, -98.571137 29.675787, -98.570944 29.675711999999997, -98.570743999999991 29.675617, -98.570505 29.675487999999998, -98.570433 29.675452, -98.570304999999991 29.675386999999997, -98.570128 29.675304999999998, -98.569950999999989 29.675251, -98.569789 29.67523, -98.569458 29.675228999999998, -98.56921899999999 29.675248999999997, -98.568964 29.675248, -98.568648 29.67524, -98.568424 29.675238999999998, -98.568247 29.675258999999997, -98.567821999999992 29.675331999999997, -98.567297 29.675518999999998, -98.566995999999989 29.675618999999998, -98.566431999999992 29.675859, -98.566269999999989 29.675919999999998, -98.566051 29.675967, -98.566023 29.675973, -98.565992 29.675977999999997, -98.565975 29.676997)), ((-98.52924 29.671781, -98.529501 29.671768, -98.529927 29.67177, -98.530633 29.671785999999997, -98.531082 29.671781, -98.531346 29.671788, -98.531702 29.671789, -98.53205899999999 29.671810999999998, -98.532438 29.671799, -98.532716999999991 29.671813, -98.533322 29.671802, -98.533895 29.671803999999998, -98.534081 29.671818, -98.534444999999991 29.671901, -98.534747 29.671962999999998, -98.534987 29.672037999999997, -98.535196 29.67212, -98.535428 29.672235999999998, -98.535474999999991 29.672255999999997, -98.535575 29.672276999999998, -98.535761 29.672290999999998, -98.536402 29.672285, -98.536839 29.672280999999998, -98.537218 29.672269, -98.538342 29.672293, -98.539667 29.672366, -98.539768 29.672352, -98.539822 29.672318999999998, -98.539846 29.672278, -98.53987 29.672183, -98.539886 29.672006999999997, -98.53994999999999 29.671601, -98.540027999999992 29.671426, -98.540129 29.671263, -98.540276999999989 29.671128999999997, -98.540472 29.671001, -98.540211 29.664216999999997, -98.5386 29.659371999999998, -98.537278 29.655397999999998, -98.536915999999991 29.654308999999998, -98.53611 29.651733, -98.53576 29.651168, -98.535789999999992 29.650881, -98.535748 29.650433999999997, -98.535749 29.650388, -98.533374999999992 29.644126, -98.531773 29.640055, -98.53078099999999 29.637535, -98.530747999999988 29.63677, -98.530755 29.636453, -98.530786999999989 29.635032, -98.530733 29.63234, -98.53063 29.627191999999997, -98.530626 29.627008999999997, -98.531185999999991 29.627001999999997, -98.532089 29.627003, -98.532089 29.626989, -98.532089 29.626936999999998, -98.528662 29.626934, -98.523038 29.626928999999997, -98.518823 29.626925, -98.518875999999992 29.627706, -98.51893 29.628769, -98.519109 29.631541, -98.51923 29.633785, -98.519289 29.634487, -98.51932 29.634864999999998, -98.519549 29.636671999999997, -98.519634 29.637178, -98.51973 29.637946999999997, -98.519854 29.638917, -98.519869 29.639308999999997, -98.51986 29.639583, -98.519832 29.639782, -98.519814 29.640003999999998, -98.51978 29.640204999999998, -98.519725999999991 29.640439999999998, -98.51966 29.640673999999997, -98.519590999999991 29.640877999999997, -98.51921999999999 29.641897999999998, -98.518534 29.64378, -98.518508 29.643855, -98.518401 29.644164, -98.518337 29.644396999999998, -98.518244 29.644871, -98.518216999999993 29.64511, -98.518202 29.645349999999997, -98.51820699999999 29.645756, -98.51821 29.645826999999997, -98.518293 29.646651, -98.518497 29.648267999999998, -98.518597 29.649064, -98.518717999999993 29.649573999999998, -98.518861 29.650040999999998, -98.518968 29.650298, -98.519064 29.650505, -98.51920299999999 29.650774, -98.519349999999989 29.651004, -98.520037 29.652116999999997, -98.520355 29.652718, -98.520496999999992 29.653022, -98.520641 29.653361, -98.520764 29.653684, -98.520873999999992 29.65401, -98.52099 29.654386, -98.521076 29.654692999999998, -98.521194999999992 29.655338999999998, -98.521244 29.655676999999997, -98.521281 29.656015, -98.521305 29.656354, -98.521311 29.656519, -98.521315 29.656643, -98.521317 29.656693999999998, -98.521316 29.656947, -98.521316 29.657034, -98.521304 29.657332, -98.521300000000011 29.657434, -98.521276 29.657712999999998, -98.521237 29.658051, -98.521186 29.658388, -98.521101 29.658835, -98.521059999999991 29.659031, -98.520422 29.662093, -98.520406999999992 29.662166, -98.520096999999993 29.663655, -98.520041999999989 29.664099, -98.520023 29.664374, -98.520012999999992 29.664665, -98.520038 29.665063, -98.520106 29.665736, -98.520129 29.665865, -98.520224 29.666352999999997, -98.520438 29.667082999999998, -98.520544 29.667347, -98.520691 29.667683999999998, -98.520804 29.667921999999997, -98.521504999999991 29.669169, -98.521551 29.669234, -98.521768 29.669655, -98.521965999999992 29.670113999999998, -98.52215799999999 29.670628999999998, -98.522235999999992 29.670866999999998, -98.522365 29.671433999999998, -98.522415999999993 29.671716999999997, -98.522421 29.67177, -98.522652 29.671768999999998, -98.522835 29.671764999999997, -98.523254 29.671772999999998, -98.523658 29.671764999999997, -98.523834999999991 29.671761999999998, -98.524153 29.671763, -98.524401 29.67177, -98.52461 29.671764, -98.524998 29.671765999999998, -98.525276999999988 29.67176, -98.525556 29.671768, -98.525773 29.671768999999998, -98.526091 29.671782999999998, -98.527129 29.671787, -98.527501 29.671788, -98.527873 29.671775999999998, -98.529106 29.671787, -98.52924 29.671781)))";
                }

                // Shape is in WKT format 
                return shape;
            }
            catch (Exception e)
            {
                return "ERROR:" + e.Message;
            }
        }
    }
}
